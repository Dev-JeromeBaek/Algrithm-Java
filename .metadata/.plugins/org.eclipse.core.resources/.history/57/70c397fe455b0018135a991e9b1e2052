import java.util.*;

public class Q11 {
	
	public int solution(String S) {
		
		int result = 0;
		
		String[] strArr = S.split("\\p{Z}");
		System.out.println(strArr.length);
		LinkedList<Integer> list = new LinkedList<>();
		System.out.println(Arrays.toString(strArr));
		
		for (int i=0; i<strArr.length; i++) {
			System.out.println(strArr[i]);
			System.out.println("list.isEmpty() : " + list.isEmpty());
//			if(!list.isEmpty()) {
				if(strArr[i].equals("DUP")) {
					list.push(list.get(0));
				} else if(strArr[i].equals("POP")) {
					list.pop();
				} else if(strArr[i].equals("+")) {
					int temp = list.get(1) + list.get(0);
					list.pop();
					// 规过 1
//					list.add(list.size()-1, temp);
					// 规过 2
					list.pop();
					list.push(temp);
					
				} else if(strArr[i].equals("-")) {
					int lastOne = list.get(0);
					int lastTwo = list.get(1);
					int temp = lastTwo >= lastOne ? lastTwo-lastOne : lastOne-lastTwo;
					list.pop();
					// 规过 1
					list.add(0, temp);
					// 规过 2
//					list.pop();
//					list.push(temp);
					
				} else {
					list.push(Integer.parseInt(strArr[i]));
				}
				System.out.println(list);
//			} else {
//				list.push(-1);
//			}
		}
		result = list.get(0);
		
		// 付瘤阜 硅凯 蔼 馆券
		return result;
	}
	
	public static void main(String[] args) {
		Q11 q = new Q11();
		String string = "13 DUP 4 POP 5 DUP + DUP + -";
		System.out.println(q.solution(string));
	}// main END
}// class END
